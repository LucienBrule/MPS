//------------------------------------
// Lab 3 - Part 1: UART - Lab03_uart.c
//------------------------------------
//

/*
 * UART information:
 * 	textbook page 221
 * 	reference manual page 1241
 * 	USART1 and 6 setup in uart.c
 */
#include "init.h"

// Main Execution Loop
int main(void) {
	//Initialize the system
	Sys_Init();
	printf("[printf] before\r\n");

	//Initialize GPIO for UART
//	init uart populates a uart struct.
	UART_HandleTypeDef uart6;
	initUart(&uart6,115200,USART6);

	printf("got here 24\r\n");
	UART_HandleTypeDef uart1;
//	initUart(&uart1,115200,USART1);
	printf("got here. 27\rn");
	uint8_t test = '0';
	while(1){
//		printf("yolo\r\n");
//		test++;
		//test = ~test;
		uart_putchar(&uart6,&test);
		HAL_Delay(100);
//		uart_print(&uart6,"[printf] 9600\r\n");
//		uart_print(&uart1,"[printf] 115200\r\n");

}

	// Lost? Check out uart.c!

}
